(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7477c3b9"],{"498a":function(t,e,r){"use strict";var s=r("23e7"),a=r("58a8").trim,c=r("c8d2");s({target:"String",proto:!0,forced:c("trim")},{trim:function(){return a(this)}})},5899:function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(t,e,r){var s=r("1d80"),a=r("5899"),c="["+a+"]",i=RegExp("^"+c+c+"*"),n=RegExp(c+c+"*$"),o=function(t){return function(e){var r=String(s(e));return 1&t&&(r=r.replace(i,"")),2&t&&(r=r.replace(n,"")),r}};t.exports={start:o(1),end:o(2),trim:o(3)}},"8aea":function(t,e,r){},bf0c:function(t,e,r){"use strict";r.r(e);var s=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"search-container"},[r("van-nav-bar",{attrs:{"left-arrow":""},on:{"click-left":t.clickToBack},scopedSlots:t._u([{key:"title",fn:function(){return[r("van-search",{attrs:{shape:"round",background:"#f5f5f5",placeholder:"请输入搜索关键词"},on:{search:t.onSearch},model:{value:t.searchKey,callback:function(e){t.searchKey=e},expression:"searchKey"}})]},proxy:!0},{key:"right",fn:function(){return[r("div",{on:{click:function(e){return t.onSearch()}}},[t._v("搜索")])]},proxy:!0}])}),t.searchHistoryList.length>0?r("div",{staticClass:"search-history"},[r("div",{staticClass:"search-history-header flex-box flex-h-between flex-v-center"},[r("span",[t._v("搜索历史")]),r("van-icon",{attrs:{name:"delete-o"},on:{click:t.clearSearchHistory}})],1),r("div",{staticClass:"search-history-content"},t._l(t.searchHistoryList,(function(e,s){return r("div",{key:s,staticClass:"search-history-item",on:{click:function(r){return t.onSearch(e)}}},[t._v(" "+t._s(e)+" ")])})),0)]):t._e(),r("div",{staticClass:"search-history"},[t._m(0),r("div",{staticClass:"search-history-content"},t._l(t.hotSearchList,(function(e,s){return r("div",{key:s,staticClass:"search-history-item",on:{click:function(r){return t.onSearch(e)}}},[t._v(" "+t._s(e)+" ")])})),0)])],1)},a=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"search-history-header flex-box flex-h-between flex-v-center"},[r("span",[t._v("热门搜索")])])}],c=(r("caad"),r("2532"),r("498a"),r("d3b7"),{set:function(t,e,r){var s={key:t,value:e,expires:r};if(r){var a=Object.assign(s,{startTime:(new Date).getTime()});localStorage.setItem(t,JSON.stringify(a))}else"[object Object]"===Object.prototype.toString.call(e)&&(e=JSON.stringify(e)),"[object Array]"===Object.prototype.toString.call(e)&&(e=JSON.stringify(e)),localStorage.setItem(t,e)},get:function(t){var e=localStorage.getItem(t);try{e=JSON.parse(e)}catch(s){}if(e&&e.startTime){var r=(new Date).getTime();return r-e.startTime>e.expires?(localStorage.removeItem(t),!1):e.value}return e},remove:function(t){localStorage.removeItem(t)},clear:function(){localStorage.clear()}}),i={name:"Search",data:function(){return{searchKey:"",searchHistoryList:[],hotSearchList:["iPhone 12","618盛典","小米11","跨店满减","智能空调","小家电","夏日补水","夏日T恤","遮阳伞"]}},created:function(){var t=c.get("searchHistory");t&&(this.searchHistoryList=t)},methods:{clickToBack:function(){this.$router.back()},onSearch:function(t){if(t)this.$router.push({path:"goodsList",query:{key:t}});else{var e=this.searchKey;!this.searchHistoryList.includes(e)&&e.trim()&&(this.searchHistoryList.unshift(e),c.set("searchHistory",this.searchHistoryList)),this.$router.push({path:"goodsList",query:{key:e}})}},clearSearchHistory:function(){var t=this;this.$dialog.confirm({title:"提示",message:"确认清空搜索历史?"}).then((function(){t.searchHistoryList=[],c.remove("searchHistory")}))}}},n=i,o=(r("fd97"),r("2877")),h=Object(o["a"])(n,s,a,!1,null,"55139581",null);e["default"]=h.exports},c8d2:function(t,e,r){var s=r("d039"),a=r("5899"),c="​᠎";t.exports=function(t){return s((function(){return!!a[t]()||c[t]()!=c||a[t].name!==t}))}},fd97:function(t,e,r){"use strict";r("8aea")}}]);